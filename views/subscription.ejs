<% include ./partials/header.ejs %>
    <div class="right h-full flex-1 relative px-6">
        <div class="videos flex flex-wrap justify-start overflow-y-auto h-[85vh] py-2 pb-10">
        <% if(videos.length === 0){%>
            <h1 class="w-[80vw] text-center  my-auto font-medium text-zinc-400">No Subscribed channel.</h1>
                <%}else{%>
                        <h1 class="my-6 font-medium text-3xl ml-2 w-full">Latest</h1>
                    <% videos.reverse().forEach(function(video){%>
                        <%if(video.type === 'playlist'){%>
                <a href="/playlist/<%= video.title %>">
                    <div class="w-[25.5vw] mr-5 pb-8 playlist relative">
                        <div class="h-56 w-[96%] rounded-xl -top-2  absolute left-1/2 -translate-x-1/2 bg-zinc-300 "></div>
                        <div class="h-56 w-[98%] rounded-xl -top-1  absolute left-1/2 -translate-x-1/2 bg-zinc-400 "></div>
                        <video class="rounded-xl relative h-56 bg-zinc-200 mb-2" src="">
                        </video>
        
                        <h2 class="leading-tight">
                            <%=video.description%>
                        </h2>
                        <h4 class="text-zinc-500 text-sm">
                            <%=video.user.channelName%>
                        </h4>
                        <div class="flex gap-1 items-center text-zinc-500">
                            <h4 class="text-sm">
                                <%=video.views.length%> views
                            </h4>
                            <i class="ri-circle-fill text-[4px] mt-1"></i>
                            <h4 class="text-sm"><%=video.uploadDate.toLocaleDateString('en-US', { date:'long' }) %>
                            </h4>
                        </div>
                    </div>
                </a>
                <%}else{%>
                    <a href="/openVideo/<%=video.title%>">
                        <div class="w-[25.5vw] pb-8 mr-5 video">
                            <div class="rounded-xl h-56 bg-zinc-200 mb-2">
                            </div>
                            <a href="/channel/<%=video.user.username%>">
                                <h2 class="leading-tight">
                                    <%=video.description%>
                                </h2>
                                <h4 class="text-zinc-500 text-sm">
                                    <%=video.user.channelName%>
                                </h4>
                                <div class="flex gap-1 items-center text-zinc-500">
                                    <h4 class="text-sm">
                                        <%=video.views.length%> views
                                    </h4>
                                    <i class="ri-circle-fill text-[4px] mt-1"></i>
                                    <h4 class="text-sm"><%=video.uploadDate.toLocaleDateString('en-US', { date:'long' }) %>
                                    </h4>
                                </div>
                            </a>
                        </div>
                    </a>
                <%}%>
            <%})%>
        <%}%> 

        </div>

    </div>



    <% include ./partials/footer.ejs %>